#!/bin/bash
#
# Before running this script, install Ubuntu 12.04 LTS with OpenSSH.
# Manually setup the network interface(s) and SSH authorized_keys (disable password login).
#
# Do not run this script as sudo
# ./ubuntu-12-04

sudo apt-get update
sudo apt-get -y upgrade

sudo apt-get -y install apache2-mpm-worker
sudo apt-get -y install libapache2-mod-fcgid
sudo a2enmod ssl
sudo a2enmod rewrite
sudo a2enmod fcgid
sudo a2enmod headers
sudo a2dissite default
sudo a2dissite default-ssl
sudo service apache2 restart

sudo apt-get -y install git
sudo apt-get -y install htop
sudo apt-get -y install imagemagick
sudo apt-get -y install memcached
sudo apt-get -y install munin munin-plugins-extra

# Generate a new root user account and enter it when asked.
sudo apt-get -y install mysql-server

sudo apt-get -y install nload
sudo apt-get -y install python-software-properties
sudo apt-add-repository ppa:chris-lea/node.js
sudo apt-get update
sudo apt-get -y install nodejs
sudo apt-get -y install php5-cgi php5-cli
sudo apt-get -y install php5-curl php5-dev php5-gd php5-gmp php5-json php5-ldap php5-mcrypt php5-memcache php5-memcached php-http php5-mysql php5-xdebug
sudo apt-get -y install python3
sudo apt-get -y install dkms
sudo apt-get -y install zip

sudo npm -g install bower

cd ~

curl -sS https://getcomposer.org/installer | php
sudo mv composer.phar /usr/local/bin/composer
sudo composer self-update

git config --global core.editor nano
git config --global url.https://.insteadOf git://
git config --global push.default current
git config --global color.ui auto
git config --global color.status always

git clone https://github.com/myerscough-eteam/bloom
git checkout development
make

# From here, it's up to you to manually setup Apache, PHP and MySQL
